/*
  Creates a new Phaser Game object called Game
  bind out custom functions to Phasers existing ones to get called instead
  The ones on the right are our custom functions 
*/
    //Global Variables

var map;

var blockLayer;
var screenHeight = 800;
var screenWidth = 600;
var game = new Phaser.Game(screenHeight, screenWidth, Phaser.AUTO, '', {
  preload: Preload,
  create: Create,
  update: Update,
  render: Render
});
//


function Preload(){

    // load all game assets
    // images, spritesheets, atlases, audio etc..
    // binds the asset path to a keyword
    this.load.tilemap('myTilemap', "<%= asset_path 'platformer-demo-tilemap.json' %>", null, Phaser.Tilemap.TILED_JSON);
    this.load.image('myTileset', "<%= asset_path 'platformer-demo.png' %>");
    this.load.image('background_stars', "<%= image_path 'Background-Stars.png' %>");
    this.load.image('background_clouds', '<%= image_path "Background-Clouds-02.png" %>');
    this.load.image('background_mountains', '<%= image_path "Background-B Copy.png" %>');
    this.load.image('background_woods', '<%= image_path "Background-B-Woods.png" %>');

    // load character spritesheets
    this.load.spritesheet('Fausto', '<%= image_path "Fausto.png" %>', 64, 64, 37);
    this.load.spritesheet('Milo', '<%= image_path "Milo.png" %>', 64, 64, 37);
}


//this = game variable
function Create(){
  //Create a tile map and store it as the global map variable
  map = this.add.tilemap('myTilemap');
  /*
    Add an image to the map to be used as a tileset image
    'platformer-demo' = the tile set used in the Tiled Editor and stored in the json file
    'myTileset' = the keyword used to reference the image path to be used by the platformer-demo tileset
  */
  map.addTilesetImage('platformer-demo', 'myTileset');

  this.player1 = this.add.sprite(0, this.game.height/1.3, 'Fausto');
  this.player1.x = this.game.width/2 - this.player1.width/4.3;
  // this.player1.animations.add('attack', [19,20,21,22,23,24,31,32,33,0]);




}

function Update(){
   this.add.sprite(0,0,'background_woods');
}

function Render(){


}


// create: function() {
//     map = this.add.tilemap('myTilemap');
//     // Adds an image to the map to be used as a tileset:
//     map.addTilesetImage('platformer-demo', 'myTileset');

//     backgroundLayer = map.createLayer('background');
//     blockLayer = map.createLayer('blocklayer');
// }
